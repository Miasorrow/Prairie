<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>IA - My Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "IA";
        var mkdocs_page_input_path = "octavIA.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> My Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../script_v%C3%A9rif/">Vérif</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../question.md">question</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../doc_en_ligne/">Documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../tercia/">HTTP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../groupe/">Algo</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sql/">SQL</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../diagramme/">Diagrammes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../septima/">Manipulation données</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">IA</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../nona/">Jeux</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">My Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">IA</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="ia">IA</h1>
<pre><code class="language-py">import pandas as pd 
import numpy as np
import random
import pandas as pd
from sklearn import tree
import matplotlib.pyplot as plt
import random
from numpy import mean


# ashGen
import random
import pandas as pd


def generate(n):
    ash_keys = ['a', 'b', 'c', 'd', 'v', '1', '2', '3', 'ref']  # les colonnes de mon df
    df = pd.DataFrame(columns=ash_keys)  # créer le df

    for i in range(n):  # n fois
        bars = set()  # un set, c'est (presque) comme un tableau, mais sans doublon
        while len(bars) &lt; 3:  # je crée les 3 barres.
            bars.add(random.randrange(1, 11))  # Comme c'est un set, il ne peut pas y avoir deux barres de la même
                                                            # taille,
            # je mets un while car je dois créer des barres jusqu'à ce que j'en aie 3

        bars = list(bars)  # je transforme en list c'est plus pratique qu'un set
        bonne_reponse = random.randrange(1, 4)  # choisir au hasard une barre
        ref = bars[bonne_reponse - 1]  # mettre la même taille à la ref

        choix_des_complices = random.randrange(1,
                                               4)  # pour les complices il ne faut pas qu'ils choisissent la bonne
                                                        # réponse !
        while bars[choix_des_complices - 1] == ref:  # donc, je choisi au hasard jusqu'à ce que ce soit faux
            choix_des_complices = random.randrange(1, 3)

        ligne = [
            choix_des_complices,  # a
            choix_des_complices,  # b
            choix_des_complices,  # c
            choix_des_complices,  # d,
            None,  # v
            bars[0],  # 1
            bars[1],  # 2
            bars[2],  # 3
            ref  # ref
        ]
        autre_df = pd.DataFrame([ligne], columns=ash_keys)

        df = pd.concat([df, autre_df])

    return df


if __name__ == &quot;__main__&quot;:
    df = generate(1000)
    print(df)
&quot;&quot;&quot;
ref = 2
v = 0&quot;&quot;&quot;
&quot;&quot;&quot;def valeurV(): 
        if ref == 1:
            v = 1
        elif ref == 2:
            v = 2
        else:
            v = 3
        print(v)
valeurV()
&quot;&quot;&quot;
# main

# solver
def solve(line):
    if line['1'] == line['ref']: return 1
    if line['2'] == line['ref']: return 2
    return 3


def solveDf(df):
    df['v'] = df.apply(solve, axis=1)
    return df

df = generate(1)
result = solve(df.loc[0])

df = generate(10)

solved = solveDf(df)


&quot;&quot;&quot;df_train = generate(500)
df_train = solveDf(df_train)

inputs = df_train[['a', 'b', 'c', 'd', '1', '2', '3', 'ref']]
output = df_train[['v']]&quot;&quot;&quot;



inputs = df[['a', 'b', 'c', 'd', '1', '2', '3', 'ref']]
output = df[['v']]
arbre = tree.DecisionTreeClassifier()

arbre = arbre.fit(inputs, output)
tree.plot_tree(arbre)
compteur  =0
faux = 0
for i in range(100):
    dfTest = generate(1)
    print(dfTest)

    repArbre = arbre.predict(dfTest[['a', 'b', 'c', 'd', '1', '2', '3', 'ref']])
    repSolver = solve(dfTest.loc[0])

    print(repArbre, repSolver)

    if repArbre == repSolver :
        compteur = compteur+1
    else : 
        faux = faux +1

print(&quot;vrai&quot;,compteur)
print(&quot;faux&quot;,faux)



#! version mieux 

df_train = generate(500)  # 500 pour l'entrainement
df_test = generate(50)   # 50 pour tester
df_test = df_test[['a', 'b', 'c', 'd', '1', '2', '3', 'ref']] # pas besoin de v on le calculera au fur et a mesure

# resoudre (remplir v) pour les data d'entrainement
df_train = solveDf(df_train)

# séparer in et out
inputs = df_train[['a', 'b', 'c', 'd', '1', '2', '3', 'ref']]
output = df_train[['v']]

# créer l'arbre
arbre = tree.DecisionTreeClassifier()

# entrainer l'arbre
arbre = arbre.fit(inputs, output)

# ... pour voir l'arbre
# tree.plot_tree(arbre)
# plt.show()

# Test et stat
stat = []
# pour chaque ligne du df de test
for i in range(len(df_test)):
    # récupérer la ligne
    row = df_test.iloc[[i]]
    # faire la prédiction à partir de la ligne (sans v)
    prediction = arbre.predict(row)
    # faire la prédiction avec le solver
    solution = solve(row.loc[0])
    # stocker 0 (erreur de l'arbre) ou 1 (réussite de l'arbre)
    stat.append(int(prediction[0] == solution))

# affichage des résultats
print(&quot;moyenne: &quot;, mean(stat))
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../septima/" class="btn btn-neutral float-left" title="Manipulation données"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../nona/" class="btn btn-neutral float-right" title="Jeux">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../septima/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../nona/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
